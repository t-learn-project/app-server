# Локальная разработка
В корне проекта нужно создать файл окружения `tlearn-dev.env`, в котором указать необходимые переменные среды. Список всех возможных параметров приведен в таблице.

| Название                 | Обязателен | По умолчанию | Описание                                                                       |
|--------------------------|------------|-------------|--------------------------------------------------------------------------------|
| TLEARN_DEBUG             | Нет        | `false`     | Активрует режим отладки Django                                                 |
| TLEARN_ALLOWED_HOSTS     | Да         |             | Список хостов, разделенных пробелом, с которых возможно подключение к приложению |
| TLEARN_SECRET_KEY        | Да         |             | Ключ, используемый Djnago для обеспечения безопасности                         |
| TLEARN_DATABASE          | Да         |             | Название использумой СУБД. Возможные варианты: `sqlite` и `postgres`           |
| TLEARN_DATABASE_HOST     | Нет        | `None`      | Хост базы данных                                                               |
| TLEARN_DATABASE_PORT     | Нет        | `None`      | Порт базы даннных                                                              |
| TLEARN_DATABASE_NAME     | Да         |             | Имя базы данных. Для `sqlite` - путь до файла относительно `src`               |
| TLEARN_DATABASE_USER     | Нет        | `None`      | Имя пользователя базы данных                                                   |
| TLEARN_DATABASE_PASSWORD | Нет        | `None`      | Пароль пользователя базы данных                                                |

Ниже приведен пример содержимого файла `tlearn-dev.env` для локльной разработки:

```
TLEARN_DEBUG="true"
TLEARN_ALLOWED_HOSTS="localhost 127.0.0.1 [::1]"
TLEARN_SECRET_KEY="super-secret-key-123"
TLEARN_DATABASE="sqlite"
TLEARN_DATABASE_NAME="tlearn.sqlite3"
```

# Развертывание
В корне проекта нужно создать файл окружения `tlearn.env`, в котором указать необходимые переменные среды. Список всех возможных параметров приведен в таблице выше.

При использовании прокси (например `nginx`), нужно указать в переменной среды `TLEARN_ALLOWED_HOSTS` домен, на котором происходит развертывание.

Затем выполнить команду `sudo docker-compose up -d --build` в корне проекта.

Внимание! Значения переменных среды в файле `tlearn.env` нужно указывать без кавычек, поскольку docker-compose содержит баг, из-за которого в переменную попадает не только содержимое кавычек, но и сами кавычки.

По умолчанию приложение Django запускается с использованием веб-сервера `gunicorn`. Чтобы запустить приложение с использованием встроенного сервера Django (например для локальной разработки с использованием docker), нужно в файле `docker-compose.yml` указать команду запуска `python manage.py runserver 0.0.0.0:8000`.


